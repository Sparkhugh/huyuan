"use strict";function ajax(e){var t=(e.method||"get").toLowerCase(),o=e.url;if(o){var n=e.data||{},a="";for(var r in n)a+=r+"="+n[r]+"&";a=a.slice(0,-1);var s=e.success,c=e.error,d=(e.dataType||"json").toLowerCase(),i=e.jsonp||"callback",p=e.cbName||"hugh"+(new Date).getTime()+Math.random().toString().slice(2);if("json"==d){var u=new XMLHttpRequest;"get"==t&&(u.open("get",o+"?"+a),u.send(null)),"post"==t&&(u.open("post",o),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(a)),u.onreadystatechange=function(){4==u.readyState&&(200==u.status?s(u.response):c&&c())}}var l=document.createElement("script");l.src=o+"?"+a+"&"+i+"="+p,window[p]=function(e){s(e),l.remove()},document.body.appendChild(l)}else console.error("必须传入请求路径")}